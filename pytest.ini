[pytest]
# Pytest configuration for sqlitch
minversion = 7.0
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
addopts = 
    --strict-markers
    --strict-config
    --verbose
    --tb=short
    --cov=sqlitch
    --cov-report=term-missing
    --cov-report=html:htmlcov
    --cov-report=xml:coverage.xml
    --cov-fail-under=70
    --durations=10
    -ra
markers =
    unit: Unit tests
    integration: Integration tests
    compatibility: Compatibility tests against Perl sqitch
    slow: Slow running tests
    database: Tests requiring database connections
    postgresql: PostgreSQL specific tests
    mysql: MySQL specific tests
    sqlite: SQLite specific tests
    oracle: Oracle specific tests
    snowflake: Snowflake specific tests
    vertica: Vertica specific tests
    exasol: Exasol specific tests
    firebird: Firebird specific tests
    benchmark: Benchmark tests for performance measurement
filterwarnings =
    error
    ignore::UserWarning
    ignore::DeprecationWarning:pkg_resources
    ignore::PendingDeprecationWarning
    ignore::pytest.PytestUnraisableExceptionWarning